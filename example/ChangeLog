2004-12-21  Kenichi Handa  <handa@m17n.org>

	* medit.c (KeyProc): Handle C-\ as resetting input context.

2004-12-10  Kenichi Handa  <handa@m17n.org>

	* mview.c (VERSION): Update to 1.2.0.

	* medit.c (VERSION): Update to 1.2.0.
	(main): If filename is not specified, open /dev/null.

	* mdate.c (VERSION): Update to 1.2.0.

	* mconv.c (VERSION): Update to 1.2.0.

2004-12-09  Kenichi Handa  <handa@m17n.org>

	* medit.c (SaveProc, DumpImageProc, FileDialogProc, read_file):
	Decode by Mcoding_utf_8_full, not Mcoding_utf_8.

2004-12-09  handa  <handa@m17n.org>

	* Makefile.am (common_ldflags): Include libm17n-core.la.
	(common_ldflags_gui): Include ${common_ldflags}
	
2004-12-03  Kenichi Handa  <handa@m17n.org>

	* mimx-anthy.c (AnthyContext): New member ic.
	(new_context): When something goes wrong, return NULL without
	creating a context.
	(get_context): New function.
	(init): Pay attention to the case of multiple calls.
	(fini): Likewise.
	(convert, change, resize, commit): Use get_context.

	* mimx-ispell.c (face_available): New variable.
	(init): Check if GUI APIs are available or not.  If not, set
	face_available to 0.
	(fini): Free a face only if face_available is not zero.
	(ispell_word): Put face property only if available.

2004-10-29  Kenichi Handa  <handa@m17n.org>

	* medit.c (main): Fix handling of "-s" arg.

2004-10-12  Kenichi Handa  <handa@m17n.org>

	* medit.c (KeyProc): Cast buf to `unsigned char *'.
	(FaceProc): Call hide_cursor () at first.

2004-09-27  Kenichi Handa  <handa@m17n.org>

	* HELLO.html: Add Sinhala.

2004-09-23  Kenichi Handa  <handa@m17n.org>

	* HELLO.utf8, HELLO.xml: Add Sinhala.

2004-09-14  Kenichi Handa  <handa@m17n.org>

	* medit.c (update_selection): Fix for the case that the selection
	is just one line.

2004-08-27  Kenichi Handa  <handa@m17n.org>

	* mdump.c (help_exit): Describe about the arg "-r".
	(reverse_bit_order, init_reverse_bit_order): Delete them.
	(main): Handle the arg "-r".

2004-08-25  Kenichi Handa  <handa@m17n.org>

	* medit.c: Adjusted for the member name change
	(MDrawGlyphInfo->this -> MDrawGlyphInfo->metics).

	* mdump.c: Adjusted for the member name change
	(MDrawGlyphInfo->this -> MDrawGlyphInfo->metics).

2004-08-16  Kenichi Handa  <handa@m17n.org>

	* Version 1.1.0 released.

2004-08-15  Kenichi Handa  <handa@m17n.org>

	* MEdit.ja: Add Dhivehi.

	* HELLO.utf8, HELLO.xml: Add Oriya and Dhivehi.

	* medit.c (covert_selection): Handle explicit request of
	UTF8_STRING.
	(ExposeProc): If an initial input method is specifed, activate it.
	(setup_input_methods): New arg initial_input_method.  If it's not
	NULL, set current_input_method to the corresponding index.
	(help_exit): Fix help message.
	(main): Handle --im and -s command args.

	* mdump.c (help_exit): Fix help message.

2004-08-09  Kenichi Handa  <handa@m17n.org>

	* mconv.c (VERSION): Updated to 1.1.

	* mdate.c (VERSION): Likewise.

	* medit.c (VERSION): Likewise.

	* mview.c (VERSION): Likewise.

2004-07-28  Kenichi Handa  <handa@m17n.org>

	* HELLO.utf8: Add language names for Telugu and Gujarati.

	* HELLO.xml: Add language names for Telugu and Gujarati.

2004-07-26  Kenichi Handa  <handa@m17n.org>

	* medit.c (redraw_cursor): Fix checking of redrawing area.
	(set_input_method_spot): Don't check face if the buffer is empty.
	(show_cursor): Likewise.
	(delete_char): Fix adjustment of nchars.
	(CursorProc): Call update_cursor.

2004-07-23  Kenichi Handa  <handa@m17n.org>

	* HELLO.xml: Add Myanmar.

	* HELLO.utf8: Add Myanmar.

2004-07-22  Kenichi Handa  <handa@m17n.org>

	* medit.c (get_selection): If decoding fails and *type is not
	XA_UTF8_STRING, try to get selection value of type XA_UTF8_STRING.

2004-07-20  Kenichi Handa  <handa@m17n.org>

	* medit.c (main): If frame creation is falied, exit by error.
	Call M17N_FINI after destroying the application context.

2004-07-18  Kenichi Handa  <handa@m17n.org>

	* Makefile.am (common_ldflags): Don't include
	${top_srcdir}/src/libm17n-core.la.

2004-07-07  Kenichi Handa  <handa@m17n.org>

	* medit.c (Mcoding_compound_text): New variable.
	(covert_selection): Fix previous change.
	(main): Set Mcoding_compound_text.

2004-07-06  Kenichi Handa  <handa@m17n.org>

	* mdump.c: Cancel previous change.

	* Makefile.am (X_LD_FLAGS): Fix the order of linking.
	(medit_LDADD, mview_LDADD, mdump_LDADD): Cancel previous change.

	* HELLO.xml: Add Punjabi, Kannada, Telugu, and Gujarati.

	* medit.c (covert_selection): If X_HAVE_UTF8_STRING is defined and
	target is XA_UTF8_STRING, encode by utf-8.
	(get_selection): If X_HAVE_UTF8_STRING is defined and *type is
	XA_UTF8_STRING, decode by utf-8.

2004-07-05  Kenichi Handa  <handa@m17n.org>

	* HELLO.utf8: Add Kannada.

2004-06-30  Kenichi Handa  <handa@m17n.org>

	* mdump.c: Include <m17n-gd.h> instead of <m17n-gui.h>.

	* Makefile.am (X_LD_FLAGS): New variable.
	(medit_LDADD, mview_LDADD, mdump_LDADD): Add all depending
	libraries.
	(medit_LDFLAGS, mview_LDFLAGS, mdump_LDFLAGS): Delete them.
	(libmimx_anthy_la_LIBADD): Add @ANTHY_LD_FLAGS@.
	(libmimx_anthy_la_LDFLAGS): Delete @ANTHY_LD_FLAGS@.

2004-06-25  TAKAHASHI Naoto  <ntakahas@m17n.org>

	* HELLO.utf8: Add Punjabi.

2004-06-24  Kenichi Handa  <handa@m17n.org>

	* Makefile.am: (libmimx_ispell_la_LDFLAGS)
	(libmimx_anthy_la_LDFLAGS): Add -module.

2004-06-23  Kenichi Handa  <handa@m17n.org>

	* Makefile.am (medit_LDFLAGS, mview_LDFLAGS): Cancel the previous
	change.

	* medit.c (redraw_cursor): Refer to cursor.logical_width instead
	of cursor.this.width.

2004-06-21  Kenichi Handa  <handa@m17n.org>

	* Makefile.am (medit_LDFLAGS, mview_LDFLAGS): Include -lX11 and
	-lXt.

2004-06-17  Kenichi Handa  <handa@m17n.org>

	* mdump.c (main): Don't set control.as_image to 1.

2004-06-16  Kenichi Handa  <handa@m17n.org>

	* mdump.c (main): Fix typo of error message.

	* medit.c (face_freeserif): New variable.
	(face_table): Add an entry for freeserif.
	(main): Initialized and free face_freeserif.

2004-06-15  Kenichi Handa  <handa@m17n.org>

	* mdump.c: Add command line arguments --family and --language.
	(help_exit): Print info about those arguemnts.
	(main): Make family name to lowercase.

2004-06-04  Kenichi Handa  <handa@m17n.org>

	* mconv.c (compare_coding_name): New function.
	(list_coding): Sort the list of codings by their names.

2004-06-03  Kenichi Handa  <handa@m17n.org>

	* medit.c (InputMethodInfo): New type.
	(input_method_table): Type changed to `InputMethodInfo *'.
	(select_input_method): Adjusted for the change of
	input_method_table.
	(show_cursor): Open an input method here if necessary.
	(compare_input_method): Adjusted for the change of
	input_method_table.
	(setup_input_methods): Likewise.  Don't open input methods here
	except for XIM.
	(main): Adjusted for the change of input_method_table.

	* mconv.c (main): Close `in' and `out'.

	* HELLO.utf8: Fix Greek line.

	* HELLO.xml: Fix Greek line.

2004-05-28  Kenichi Handa  <handa@m17n.org>

	* Makefile.am (VINFO): New variable.
	(libmimx_ispell_la_LDFLAGS, libmimx_anthy_la_LDFLAGS): Include
	${VINFO}.

	* mdump.c (PROGRAM_VERSION): Renamed from VERSION.
	(main): Use PROGRAM_VERSION.

	* medit.c (main): Make face_input_status copy of face_default.

2004-05-27  Kenichi Handa  <handa@m17n.org>

	* medit.c (show_cursor): Check hline->width and box->width.
	(main): Set reverse videomode in a face for selection.

	* mdump.c: Include config.h.  Include <gd.h> instead of
	<X11/Xlib.h>.  If not HAVE_FREETYPE nor HAVE_GD, define a pseudo
	function main that just print an error message.
	(help_exit): Adjusted for the change of spec.
	(dump_image): Argument changed.  Dump PNG image instead of PBM.
	(main): Adjusted for the change of spec.

	* Makefile.am (common_ldflags_gui): Renamed from
	common_ldflags_X.  Set to .../libm17n-gui.la.  Referrer changed.
	(mdump_LDFLAGS): Include @GD_LD_FLAGS@

	* HELLO.xml:  Add Bengali.

2004-05-21  Kenichi Handa  <handa@m17n.org>

	* HELLO.utf8: Add Bengali.

2004-05-20  Kenichi Handa  <handa@m17n.org>

	* medit.c (redraw): If contro.anti_alias is nonzero, always clear.
	(ButtonMoveProc): Don't give control.anti_alias to redraw.
	(default_face_list): New variable.
	(FaceProc): If no selection, change the default face.
	(main): Initialize and finalize default_face_list.

2004-04-27  Kenichi Handa  <handa@m17n.org>

	* mimx-ispell.c: Add coding tag euc-jp.

	* mimx-anthy.c: Add coding tag euc-jp.

	* medit.c: Add coding tag euc-jp.
	(ButtonMoveProc): Full redraw if we are using anti-aliased text.
	(main): Set control.anti_alias to 1. 

	* mdump.c: Add coding tag euc-jp.

	* mdate.c: Add coding tag euc-jp.

	* mconv.c: Add coding tag euc-jp.

2004-04-20  Kenichi Handa  <handa@m17n.org>

	* Makefile.am (medit_LDFLAGS): Include X_PRE_LIBS, XLIBS,
	X_EXTRA_LIBS.
	(mview_LDFLAGS): Likewise.

	* linebreak.c: Don't include wordcut/xmalloc.h, wordcut/path.h.

2004-03-29  Kenichi Handa  <handa@m17n.org>

	* Version 1.0 Patch Level 2 released.

2004-03-19  Kenichi Handa  <handa@m17n.org>

	* Version 1.0 Patch Level 1 released.

2004-03-19  Kenichi Handa  <handa@m17n.org>

	* medit.c (VERSION): Changed to 1.0.1.
	(update_selection): Fix for the case that the selected region is
	expanded to the opposite direction.
	(ButtonMoveProc): Likewise.
	(main): Use alloca instead of malloc for allocating menu names.
	Free several memory areas and GCs.

2004-03-12  Kenichi Handa  <handa@m17n.org>

	* medit.c (input_status_control): New variable.
	(input_status): Use input_status_control.
	(main): Initialize input_status_control.

2004-03-01  Kenichi Handa  <handa@m17n.org>

	* Version 1.0 released.


Copyright (C) 2003, 2004
  National Institute of Advanced Industrial Science and Technology (AIST)
  Registration Number H15PRO112

This file is part of the m17n library.

The m17n library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public License
as published by the Free Software Foundation; either version 2.1 of
the License, or (at your option) any later version.

The m17n library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with the m17n library; if not, write to the Free
Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
02111-1307, USA.
